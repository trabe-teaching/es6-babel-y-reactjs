<!DOCTYPE html>
<html>
  <head>
    <title>ES6, Babel & React</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" type="text/css" href="slide-pack.min.css">

    <style>
      .warning {
        background: red;
      }
    </style>
  </head>
  <body>

<textarea data-slide-pack>

--

# ES6, Babel & React

--

# ES2015, Babel & React
--

Who we are
(pending LOL)

--

# Disclaimer

Esta charla es para gente que sepa JavaScript

--

Objetivos

* Introducción a las nuevas features de ES2015
* Ver cómo usarlas hoy (LOL)
* Introuducir React (Librería de UI) // Porque gran aprte de las app son para el navegador

--

# ES2015, ES2016...

## Una spec por año
## stage-0, 1, 2, 3 y 4

-- section

# ES6

--

# `let` y `const`

## Mutable vs inmutable

```javascript
// ES6
let counter = 0;
counter++ // This is fine

const PI = 3.14;
PI++ // This is not fine
```

-- warning

# `let` y `const`

## Mutable vs inmutable


```javascript
// ES6
const john = { age: 25 };
jhon.age++ // No problem! Ups!

jhon = { age: 99 }; // This is not fine;
```


--
# `let` y `const`

## var: function scope y hoisting

```
// ES5
if (true) {
  var a = 1;
}

console.log(a) // 1
```

--

# `let` y `const`

## var: function scope y hoisting

```
// ES5
var a;

if (true) {
  a = 1;
}

console.log(a) // 1
```

--

# `let` y `const`

## Block scope


```javascript
// ES6
if (true) {
  let a = 1;
}

console.log(a) // undefined

```

--

# Arrow functions

## syntactic sugar

```javascript
// ES6
const square = function(n) {
  return n * n;
}

const square = (n) => {
  return n * n;
}

const square = (n) => n * n;

const square = n => n * n;
```

--

# Arrow functions

## lexical scoping

```javascript
// ES5 not binded
var john = {
  name: "John",
  age: 25,

  greeter: function() {
    return function() {
      return "Hello I am " + this.name
   }
  }
}

var greet = john.greeter();

greet(); // "Hello I am "
```

--

# Arrow functions

## lexical scoping

```javascript
// ES5 invocation binding
var john = {
  name: "John",
  age: 25,

  greeter: function() {
    return function() {
      return "Hello I am " + this.name
   }
  }
}

var greet = john.greeter();

greet.call(john); // "Hello I am John"
```

--

# Arrow functions

## lexical scoping

```javascript
// ES5 closure
var john = {
  name: "John",
  age: 25,

  greeter: function() {
    var that = this;
    return function() {
      return "Hello I am " + that.name
   }
  }
}

var greet = john.greeter();

greet(); // "Hello I am John"
```

--

# Arrow functions

## lexical scoping

```javascript
// ES5 explicit bind
var john = {
  name: "John",
  age: 25,

  greeter: function() {
    return function() {
      return "Hello I am " + this.name
   }.bind(this);
  }
}

var greet = john.greeter();

greet(); // "Hello I am John"
```

--

# Arrow functions

## lexical scoping

```javascript
// ES6
const john = {
  name: "John",
  age: 25,

  greeter: function() {
    return () => "Hello I am " + this.name;
  }
}

var greet = john.greeter();

greet(); // "Hello I am John"
```

--

# Más syntactic sugar

```javascript
// ES6
const john = {
  // ..

  greeter() {
    // ...
  }
}
```

--

# String templates

```javascript
// ES5
"Hello I am " + this.name

// ES6
`Hello I am ${this.name}`
```

--

# Array destructuring

```javascript
// ES5
var arr = [1, 2, 3, 4];
var a = arr[0];
var b = arr[1];
var c = arr[2];
var d = arr[3];

// ES6
const [a, b, c, d] = [1, 2, 3, 4];

```
--

# Array splatting

```javascript
// ES6 splatting
function reverse(array) {
  const [head, ...tail] = array;
  if (tail.length === 0) {
    return [head];
  } else {
    return [...reverse(tail), head];
  }
}
```

--

# Object destructuring

```javascript
var john = {
  name: {
    first: "John",
    last: "Doe"
  },
  age: 25
}

// ES5
var first = john.name.first;
var last = john.name.last;
var age = john.age;

// ES6
const { name: {first, last}, age } = john;
```

--

# Parámetros opcionales

```javascript
// ES5
function sum() {
  var numbers = Array.prototype.slice.apply(arguments);
  return numbers.reduce(function(a,n) {
    return a + n;
  });
}

// ES6
function sum(...numbers) {
  return numbers.reduce((a, n) => a + n);
}
```

--

# Parámetros nombrados

```javascript
// ES5
function volume(radius, height) {
  return 3.14 * radius * radius * height;
}

volume(cylinder.height, cylinder.radius); // Ups!

// ES6
function volume({radius, height}) {
  return 3.14 * radius * radius * height;
}

volume(cylinder);
```

--

# Valores por defecto

```javascript

// ES5
function join(words, separator) {
  separator = separator || ",";
  return words.join(separator);
}

// ES6
function join(words, separator = ",") {
  return words.join(separator);
}
```

--

# Clases

```javascript
// ES5
function Human(name, age) {
  this.name = name;
  this.age = age;
}

Human.prototype.becomeOlder = function() {
  this.age += 1;
}

var john = new Human("John", 25);
```

--

# Clases

```javascript
// ES6
class Human {
  constructor(name, age) {
    this.name = name;
    this.age = age;
  }

  becomeOlder() {
    this.age += 1;
  }
}

const john = new Human("John", 25);
```

--

# Promesas

```javascript
// ES6
fetch("/stock_values.json").then(
    response => response.json()
  ).then(
    values => values.filter(v => v > 100)
  ).then(
    highValues => console.log(highValues)
  ).error(
    () => console.err("Something went wrong")
  );
```

--

# Promesas

```javascript
// ES6
const loadImage = (src) => {
  return new Promise((resolve, reject) => {
    const img = new Image();
    img.src = src;
    img.onload = () => resolve(img);
  });
}

loadImage("awesome_flying_melon.png").then(
  image => document.getElementById("#wrapper")
    .appendChild(image)
);
```

--

# Módulos

```javascript

export const PI=3.14;

export function sqrt(x) { //... };

export default const operations = {
  PI: PI,
  sqrt: sqrt
};

```

--

# Más syntactic sugar

```javascript
// my-math.js
export const PI=3.14;

export function sqrt(x) { //... };

export default const operations = {
  PI,
  sqrt
};

```

--

# Módulos

```javascript
import {PI} from "my-math";
console.log(PI); // 3.14

import operations from "my-math";
console.log(operation.sqrt(4)); // 2

import {srqrt as root2} from "my-math";
console.log(root2(4)); // 2

import * as myAwesomeMath from "my-math";
console.log(myAwesomeMath.sqrt(4); // 2
console.log(myAwesomeMath.PI); // 3.14

```
--

# Más cosas

* Clases: extends/super y get/set
* Símbolos
* Generadores y async/await
* (Weak)Maps, (Weak)Sets


// BUSCAR REFERENCIAS


--

# Soporte en navegadores

-- section

# BABEL

--

 Imagen logo babel

--

# Babel


* Qué es ...

--

Babel playground

--

```
$ npm install babel
$ babel ...
```

--

Babel polyfill

```
$ npm install babel-polyfill

// In your code
import "babel-polyfill";
```

--

What abotu Módulos ES6.

Webpack + ES 6.

Imagen logo webpack

```
Basic webpack config

```

--

# El futuro: ES7

```
// ES7 stage-2
const { name, age, ...rest } = john;

console.log(name); // John
console.log(age); // 25
console.log(rest); // { id: "12345", favColor: "red" }

const mary = { ...john, name: "Mary" };

```

-- section

# React

--

# React

## Filosofía

* Librería de UI
* UI = f(estado)
* Virtual DOM
* Uniderectional data flow

--

# Componentes stateless

```javascript
import React from "react";
import {render} from "react-dom";

const HelloWorld = () => <p>Hello world!</p>;

render(
  <HelloWorld/>,
  document.getElementById("app")
);

```
--

# What the &amp;lt;Fuck/&amp;gt; !?

--

# JSX (syntactic sugar)

```javascript
import React from "react";
import {render} from "react-dom";

const HelloWorld = () => React.DOM.p(null, "Hello world!");

render(
  React.createElement(HelloWorld),
  document.getElementById("app")
);

```

--

# Virtual DOM

Buscar una representaación gráfica del virtual DOM y el diffing

--

# Props

```javascript
import React from "react";
import {render} from "react-dom";

const HelloWorld = (props) => <p>Hello {props.name}!</p>;

render(
  <HelloWorld name="John"/>,
  document.getElementById("app")
);

```

--

# Funciones vs clases

```javascript
import React from "react";
import {render} from "react-dom";

class HelloWorld extends React.Component {
  render() {
    return <p>Hello {this.props.name}!</p>;
  }
}

render(
  <HelloWorld name="John"/>,
  document.getElementById("app")
);

```

--

# <a class="jsbin-embed" href="http://jsbin.com/dixitubaco/embed?js,output">¡Estado!</a><script src="http://static.jsbin.com/js/embed.min.js?3.35.11"></script>

```javascript
class HelloWorld extends React.Component {
  constructor(props) {
    super(props);
    this.state = { casual: props.casual };
    this.toggleStyle = this.toggleStyle.bind(this);
  }

  toggleStyle() {
    this.setState({ casual: !this.state.casual });
  }

  render() {
    const greeting = this.state.casual ? "Wasap" : "Hello";
    return <p onClick={this.toggleStyle}>{greeting} {this.props.name}!</p>;
  }
}

render(
  <HelloWorld name="John" casual={false}/>,
  document.getElementById("app")
);

```
--

# Children

```javascript
const Emphasis = ({children}) => {
  return (
    <div>
      WOOOOOOOOWWWWW!!!
      {children}
      WWAAAAAAAWWWAAAAAAAAAA!!!
    </div>
  );
}

render(
  <Emphasis>
    <HelloWorld name="John" casual={false}/>
  </Emphasis>,
  document.getElementById("app")
);

```

--

Otros temas:

* Ciclo de vida
* Contexto
* JSX quirks
* propTypes

--

# React native

## Mencionarlo.

--

Next chapter: dealing with the model.

* Flux
* Redux

--

# ¿Preguntas?

--

GIF DE DESPEDIDA DE JAKE O ALGO MOLÓN

</textarea>

    <!-- SlidePack markdown compilation & UI goodies -->
    <script src="slide-pack.min.js"></script>
  </body>
</html>

